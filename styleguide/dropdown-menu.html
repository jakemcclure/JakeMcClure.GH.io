<html>
<style>
/* ----- scss ----- */
@import 'https://fonts.googleapis.com/css?family=Karla';
*{
	box-sizing: border-box;
}
body{
	min-height: 100vh;
	background: linear-gradient(15deg, #25ddf5, #53f);
	font-family: karla;
	color: #666;
	font-size: 18px;
	-webkit-font-smoothing: antialiased;
}

h1,h2,h3,h4,h5,h6{
	color: #444;
}

header{
	position: relative;
	padding: 20px 0 0;
	transform-style: preserve3d;
	perspective: 3000px;
}

.menu{
	list-style: none;
	margin: 0;
	padding-left: 0;
	display: flex;
	justify-content: center;
	
	a{
		padding: 20px 20px;
		display: block;
		text-decoration: none;
		color: white;
	}
	
	&__item{
		position: relative;
		&:hover > .sub-menu-shadow{
			display: block;
		}
	}
	
	.sub-menu-shadow{
		position: absolute;
		display: none;
	}
	
}
.dropdown{
	&-holder{
		position: absolute;
		width: 100%;
		left: 0;
		top: 100%;
	}
	
	&__bg, &__arrow{
		position: absolute;
	}
	&__arrow{
		width: 0;
		height: 0;
		border-width: 10px;
		border-style: solid;
		border-color: transparent transparent white;
		top: -20px;
		opacity: 0;
		transition: .20s ease;
		pointer-events: none;
	}
	&__bg{
		width: 450px;
		height: 400px;
		background-color: white;
		opacity: 0;
		transition: .25s ease;
		border-radius: 5px;
		overflow: hidden;
		z-index: -1;
		
		&-bottom{
			background-color: #fafafa;
			position: absolute;
			width: 100%;
			left: 0;
			top: 300px;
			height: 700px;
			transition: .3s ease;
		}
	}
	
	&__wrap{
		overflow: hidden;
		position: absolute;
		transition: .25s ease;
		z-index: 1;
		
		.top-section,.bottom-section{
			padding: 20px;
		}
	}
	
	&-menu{
		
		&__content{
			position: absolute;
			opacity: 0;
			transition: .25s ease;
			min-width: 200px;
			
			ul{
				list-style: none;
				padding-left: 0;
				margin: 0;
			}
			a{
				color: inherit;
				text-decoration: none;
				display: block;
				padding: 5px 0;
				
				&:hover{ color: #333 }
			}
		}
		
		&.active{
			.dropdown-menu__content{
				opacity: 1;
			}
		}
		
	}
	
	
}
#product .dropdown-menu__content{
	width: 640px;
}
#developer .dropdown-menu__content{
	width: 400px;
}
.col-2{
	display: flex;
	>ul,>div{
		flex: 1 0 150px;
	}
}
#product{
	.col-2{
		li{
			display: block;
			padding: 20px 20px 10px;
			
			h3{
				font-size: 18px;
				margin: 0 0 10px;
				color: turquoise;
			}
			p{
				color: #999;
				margin: 0;
			}
			
		}
	}
}

.menu-title{
	margin: 0 0 10px;
	font-size: 18px;
	color: #2196F3
}
.info{
	line-height: 1.7;
}
</style>

<body>
<header class="main-header">
  <ul class="menu">
    <li data-sub="product" class="menu__item"><a href="#">Product</a></li>
    <li data-sub="developer" class="menu__item"><a href="#">Developer</a></li>
    <li data-sub="company" class="menu__item"><a href="#">Company</a></li>
  </ul>
  <div class="dropdown-holder">
    <div class="dropdown__arrow"></div>
    <div class="dropdown__bg">
      <div class="dropdown__bg-bottom"></div>
    </div>
    <div class="dropdown__wrap">
      <div id="product" data-sub="product" class="dropdown-menu">
        <div class="dropdown-menu__content">
          <div class="top-section">
            <div class="col-2">
              <ul>
                <li><a href="">
                    <h3>Payment</h3>
                    <p> Lorem ipsum dolor sit amet, consectetur adipisicing elit.</p></a></li>
                <li><a href="">
                    <h3>Connect</h3>
                    <p> consectetur adipisicing elit nesciunt! Assumenda, adipisci.</p></a></li>
                <li><a href="">
                    <h3>Atlas</h3>
                    <p> ipsum dolor sit amet, consectetur adipisicing elit. .</p></a></li>
              </ul>
              <ul>
                <li><a href="">
                    <h3>Subscription</h3>
                    <p> Lorem ipsum dolor sit amet, consectetur </p></a></li>
                <li><a href="">
                    <h3>Relay</h3>
                    <p>  amet, consectetur adipisicing elit. Nisi, sequi!</p></a></li>
              </ul>
            </div>
          </div>
          <div class="bottom-section">
            <ul>
              <li><a href="">Payment</a></li>
              <li><a href="">Connect</a></li>
              <li><a href="">Atlas</a></li>
              <li><a href="">Connect</a></li>
              <li><a href="">Atlas</a></li>
            </ul>
          </div>
        </div>
      </div>
      <div id="developer" data-sub="developer" class="dropdown-menu">
        <div class="dropdown-menu__content">
          <div class="top-section">
            <div class="col-2">
              <div>
                <h2 class="menu-title">Front End</h2>
                <ul>
                  <li><a href="">Payment</a></li>
                  <li><a href="">Connect</a></li>
                  <li><a href="">Atlas</a></li>
                </ul>
              </div>
              <div>
                <h2 class="menu-title">Back End</h2>
                <ul>
                  <li><a href="">Payment</a></li>
                  <li><a href="">Connect</a></li>
                  <li><a href="">Atlas</a></li>
                </ul>
              </div>
            </div>
          </div>
          <div class="bottom-section info">
            <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Odit totam officia molestias</p>
          </div>
        </div>
      </div>
      <div data-sub="company" class="dropdown-menu">
        <div class="dropdown-menu__content">
          <div class="top-section">
            <ul>
              <li><a href="">Payment</a></li>
              <li><a href="">Connect</a></li>
              <li><a href="">Atlas</a></li>
            </ul>
          </div>
          <div class="bottom-section">
            <ul>
              <li><a href="">Payment</a></li>
              <li><a href="">Connect</a></li>
              <li><a href="">Atlas</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>
</header>

<script>
'use strict';
var menuItems = [].slice.call(document.querySelectorAll('.menu__item')), menuSubs = [].slice.call(document.querySelectorAll('.dropdown-menu')), selectedMenu = undefined, subBg = document.querySelector('.dropdown__bg'), subBgBtm = document.querySelector('.dropdown__bg-bottom'), subArr = document.querySelector('.dropdown__arrow'), subCnt = document.querySelector('.dropdown__wrap'), header = document.querySelector('.main-header'), closeDropdownTimeout, startCloseTimeout = function startCloseTimeout() {
        closeDropdownTimeout = setTimeout(function () {
            return closeDropdown();
        }, 50);
    }, stopCloseTimeout = function stopCloseTimeout() {
        clearTimeout(closeDropdownTimeout);
    }, openDropdown = function openDropdown(el) {
        var menuId = el.getAttribute('data-sub');
        var menuSub = document.querySelector('.dropdown-menu[data-sub="' + menuId + '"]');
        var menuSubCnt = menuSub.querySelector('.dropdown-menu__content');
        var menuSubBtm = menuSubCnt.querySelector('.bottom-section').getBoundingClientRect();
        var menuSubTop = menuSubCnt.querySelector('.top-section').getBoundingClientRect();
        var menuMeta = el.getBoundingClientRect();
        var subMeta = menuSubCnt.getBoundingClientRect();
        selectedMenu = menuId;
        menuItems.forEach(function (el) {
            return el.classList.remove('active');
        });
        el.classList.add('active');
        menuSubs.forEach(function (el) {
            return el.classList.remove('active');
        });
        menuSub.classList.add('active');
        subBg.style.opacity = 1;
        subBg.style.left = menuMeta.left - (subMeta.width / 2 - menuMeta.width / 2) + 'px';
        subBg.style.width = subMeta.width + 'px';
        subBg.style.height = subMeta.height + 'px';
        subBgBtm.style.top = menuSubTop.height + 'px';
        console.log(menuSubBtm);
        subArr.style.opacity = 1;
        subArr.style.left = menuMeta.left + menuMeta.width / 2 - 10 + 'px';
        subCnt.style.opacity = 1;
        subCnt.style.left = menuMeta.left - (subMeta.width / 2 - menuMeta.width / 2) + 'px';
        subCnt.style.width = subMeta.width + 'px';
        subCnt.style.height = subMeta.height + 'px';
        menuSub.style.opacity = 1;
        header.classList.add('dropdown-active');
    }, closeDropdown = function closeDropdown() {
        menuItems.forEach(function (el) {
            return el.classList.remove('active');
        });
        menuSubs.forEach(function (el) {
            el.classList.remove('active');
            el.style.opacity = 0;
        });
        subBg.style.opacity = 0;
        subArr.style.opacity = 0;
        selectedMenu = undefined;
        header.classList.remove('dropdown-active');
    };
menuItems.forEach(function (el) {
    el.addEventListener('mouseenter', function () {
        stopCloseTimeout();
        openDropdown(this);
    }, false);
    el.addEventListener('mouseleave', function () {
        return startCloseTimeout();
    }, false);
});
menuSubs.forEach(function (el) {
    el.addEventListener('mouseenter', function () {
        return stopCloseTimeout();
    }, false);
    el.addEventListener('mouseleave', function () {
        return startCloseTimeout();
    }, false);
});
</script>

</body>
</html>